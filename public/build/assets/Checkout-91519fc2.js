import{r as c,T,k as N,o as g,f as h,a as u,w as b,F as S,b as s,e as C,d,u as l,j as w,t,h as x,H as M,n as D,v as F}from"./app-9a289289.js";import{_ as I}from"./AppTemplate-233d394e.js";import{u as m}from"./useFunctions-99c0dbc3.js";import{_ as P}from"./headTags-ccea9583.js";const E={class:"ps-shopping",style:{background:"#fff"}},O={class:"container"},V={class:"ps-shopping__content"},j={class:"row"},q={class:"col-12 col-md-7 col-lg-9 mt-5 p-5"},$={class:"row"},A={class:"col-12 col-md-12 col-lg-12",style:{background:"#fff","border-radius":"10px",border:"2px solid #eee"}},B={class:"m-4",style:{color:"#332d2d"}},L={style:{float:"right"}},U={class:"row m-3"},H={class:"col-12 col-md-6"},R={class:"ps-form__group"},z={style:{color:"#76717a"}},K={style:{color:"#76717a"}},Y={class:"col-12 col-md-6 mt-1"},G={class:"ps-form__group"},J={style:{color:"#76717a"}},Q={style:{color:"#76717a"}},W={class:"col-12 col-md-12 col-lg-12 mt-3",style:{background:"#fff","border-radius":"10px",border:"2px solid #eee"}},X={for:"delivery",style:{width:"100%",background:"#fff"}},Z={style:{border:"0px solid #00000031","border-radius":"10px"}},ss={class:"ps-categogy--ist p-4",style:{display:"flex"}},es={for:"home",style:{width:"100%",background:"#fff"}},os={style:{border:"0px solid #00000031","border-radius":"10px"}},ts={class:"ps-categogy--ist p-4",style:{display:"flex"}},ls={for:"home",class:"pl-2"},ds={class:"card ml-3"},as={class:"card-body"},is={class:"col-12 col-md-12 col-lg-12 mt-3",style:{background:"#fff","border-radius":"10px",border:"2px solid #eee"}},rs={class:"accordion",id:"accordionExampleTwo"},ns={class:"card"},ps={class:"card-header",id:"headingTwo"},cs={"data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo"},us={class:"row"},ms={style:{width:"50px","padding-left":"10px"}},vs={class:"col-12 col-md-5 col-lg-3"},ys={class:"ps-shopping__box mt-5",style:{background:"#fff"}},fs={class:"ps-shopping__row"},gs={class:"ps-shopping__price"},hs={class:"ps-shopping__row"},_s={class:"ps-shopping__price",id:"fee"},bs={class:"ps-shopping__row"},ws={class:"ps-shopping__price",id:"total"},xs=["value"],ks=["value"],Ts={class:"ps-shopping__checkout"},Ns={key:0,class:"ps-btn ps-btn--primary",style:{"border-radius":"5px"}},Ss={key:1,class:"ps-btn ps-btn--primary",style:{"border-radius":"5px"}},Is={__name:"Checkout",props:{data:Object,address:Object,orderNo:Number,shipping_fee:String,total:Number,pageMeta:Object},setup(o){const i=o,v=c(0);let a=c(i.total);const y=c(a.value),f=c(!1);function _(n){return n=="delivery"?(v.value=i.shipping_fee,a.value=parseInt(i.total)+parseInt(i.shipping_fee),y.value=a.value):(a.value=parseInt(i.total),v.value=0,y.value=a.value),a.value}const r=T({delivery:"",payment_method:"",amount:N(()=>y.value),orderNo:i.orderNo});function k(){f.value=!0,r.post("/checkout/payment",{onSuccess:n=>{n.props.flash.success?(f.value=!1,toastr.success(n.props.flash.success)):toastr.error(n.props.flash.error)}})}return(n,e)=>(g(),h(S,null,[u(P,{pageMeta:o.pageMeta},null,8,["pageMeta"]),u(I,null,{content:b(()=>[s("div",E,[s("form",{action:"",onSubmit:C(k,["prevent"])},[s("div",O,[s("div",V,[s("div",j,[s("div",q,[s("div",$,[s("div",A,[s("p",B,[e[4]||(e[4]=s("i",{class:"fa fa-check-square-o",style:{color:"rgb(79, 81, 79)"}},null,-1)),e[5]||(e[5]=d(" Customer Address ")),s("span",L,[u(l(w),{href:"/checkout/address/index"})])]),e[10]||(e[10]=s("hr",null,null,-1)),s("div",U,[s("div",H,[s("div",R,[s("p",z,[e[6]||(e[6]=s("span",{style:{"font-weight":"bold"}},"Name: ",-1)),d(t(o.address.name),1)]),s("p",K,[e[7]||(e[7]=s("span",{style:{"font-weight":"bold"}}," Address: ",-1)),d(" "+t(o.address.address?o.address.address:"")+" "+t(o.address.city?o.address.city:"")+" "+t(o.address.state?o.address.tate:"")+" "+t(o.address.country?o.address.country:""),1)])])]),s("div",Y,[s("div",G,[s("p",J,[e[8]||(e[8]=s("span",{style:{"font-weight":"bold"}},"Phone: ",-1)),d(" "+t(o.address.phone),1)]),s("p",Q,[e[9]||(e[9]=s("span",{style:{"font-weight":"bold"}},"Email: ",-1)),d(" "+t(o.address.email),1)])])])])]),s("div",W,[e[14]||(e[14]=s("p",{class:"m-4",style:{color:"rgb(114, 111, 111)"}},[s("i",{class:"fa fa-check-square-o",style:{color:"rgb(114,111,111)"}}),d(" Delivery Details ")],-1)),e[15]||(e[15]=s("hr",null,null,-1)),s("label",X,[s("div",Z,[s("div",ss,[s("input",{type:"radio",id:"delivery",name:"delivery",onClick:e[0]||(e[0]=p=>_("pickup")),value:"pickup_delivery","data-amount":"0",required:""}),e[11]||(e[11]=s("label",{for:"delivery",class:"pl-2"}," Pick up Station - N0 fee ",-1))])]),e[12]||(e[12]=s("span",{class:"card ml-3"},[s("span",{class:"card-body"},[s("small",{style:{"border-bottom":"1px solid #000",padding:"2px"}},"You can pick your Item"),s("p",null," No 29, Doyin Omololu Street, Alapere, Ketu,Lagos, Nigeria.")])],-1))]),s("label",es,[s("div",os,[s("div",ts,[s("input",{type:"radio",id:"home",name:"delivery",onClick:e[1]||(e[1]=p=>_("delivery")),value:"home_delivery","data-amount":"0"}),s("label",ls," Home Delivery - N"+t(l(m).addSeperator(o.shipping_fee))+" fee ",1)])]),s("span",ds,[s("span",as,[e[13]||(e[13]=s("small",{style:{"border-bottom":"1px solid #000",padding:"2px"}},"Item will be shipped to your address",-1)),s("p",null,t(o.address.address??"")+" "+t(o.address.city??"")+" "+t(o.address.state??"")+" "+t(o.address.country??""),1)])])])]),s("div",is,[e[19]||(e[19]=s("p",{class:"m-4",style:{color:"rgb(114, 111, 111)"}},[s("i",{class:"fa fa-check-square-o",style:{color:"rgb(114,111,111)"}}),d(" Payment Method ")],-1)),s("div",rs,[s("div",ns,[s("div",ps,[s("label",cs,[s("div",us,[s("div",ms,[x(s("input",{style:{"border-radius":"5px"},class:D({"is-invalid":l(r).errors.payment_method}),type:"radio",value:"flutter","onUpdate:modelValue":e[2]||(e[2]=p=>l(r).payment_method=p),id:"paystack",name:"payment_method"},null,2),[[M,l(r).payment_method]])]),e[16]||(e[16]=s("div",{class:"col-md-6 col-lg-6 col-12"},[s("strong",null," Secured Payment with Flutterwave")],-1)),e[17]||(e[17]=s("div",{class:"col-md-2 col-lg-2 col-2"},[s("img",{src:"/frontend/FLUTTER.webp"})],-1))])]),e[18]||(e[18]=s("div",{id:"collapseTwo",class:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionExampleTwo"},[s("div",{class:"card-body"},[s("small",null,[d(" Pay with Flutterwave for both local and international cards, your card "),s("br"),d(" information is secured ")])])],-1))])])])])])]),s("div",vs,[s("div",ys,[e[24]||(e[24]=s("div",{class:"ps-shopping__row"},[s("div",{class:"ps-shopping__label"}," Cart Summary ")],-1)),s("div",fs,[e[20]||(e[20]=s("div",{class:"ps-shopping__label"}," Item Total ",-1)),s("div",gs,t(l(m).addSeperator(o.total)),1)]),s("div",hs,[e[21]||(e[21]=s("div",{class:"ps-shopping__label"}," Delivery Fee ",-1)),s("div",_s,t(l(m).addSeperator(v.value)??0),1)]),s("div",bs,[e[22]||(e[22]=s("div",{class:"ps-shopping__label"}," Total ",-1)),s("div",ws,t(l(m).addSeperator(l(a))),1),s("input",{type:"hidden",id:"sub_total",value:l(a)},null,8,xs)]),x(s("input",{type:"hidden",id:"amount",name:"amount","onUpdate:modelValue":e[3]||(e[3]=p=>l(r).amount=p)},null,512),[[F,l(r).amount]]),s("input",{type:"hidden",name:"orderNo",value:o.orderNo},null,8,ks),s("div",Ts,[f.value?(g(),h("button",Ss," Please wait .... ")):(g(),h("button",Ns," Complete Order ")),u(l(w),{class:"ps-shopping__link",href:"/catalogs"},{default:b(()=>e[23]||(e[23]=[d("Continue Shopping")])),_:1})])])])])])])],32)])]),_:1})],64))}};export{Is as default};
